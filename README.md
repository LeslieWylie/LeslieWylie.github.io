# äººç”Ÿ K çº¿ | Life Destiny K-Line

**ç»“åˆä¼ ç»Ÿå…«å­—å‘½ç†ä¸é‡‘èå¯è§†åŒ–æŠ€æœ¯ï¼Œå°†äººç”Ÿè¿åŠ¿ç»˜åˆ¶æˆ K çº¿å›¾**

[åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) â€¢ [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢ [ä½¿ç”¨æŒ‡å—](#-ä½¿ç”¨æŒ‡å—) â€¢ [é¡¹ç›®ç»“æ„
](#-é¡¹ç›®ç»“æ„)

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

äººç”Ÿ K çº¿æ˜¯ä¸€ä¸ªåˆ›æ–°çš„å‘½ç†å¯è§†åŒ–å·¥å…·ï¼Œå°†ä¼ ç»Ÿå…«å­—å‘½ç†å­¦ä¸ç°ä»£é‡‘è K çº¿å›¾æŠ€æœ¯ç›¸ç»“åˆã€‚é€šè¿‡ AI å¤§æ¨¡å‹ï¼ˆGeminiï¼‰åˆ†æç”¨æˆ·çš„ç”Ÿè¾°å…«å­—ï¼Œç”Ÿæˆ 100 å¹´çš„äººç”Ÿè¿åŠ¿ K çº¿å›¾ï¼Œå¸®åŠ©ç”¨æˆ·ä»¥ç›´è§‚çš„æ–¹å¼äº†è§£äººç”Ÿèµ·ä¼ã€æŠŠæ¡å…³é”®è½¬æŠ˜ç‚¹ã€‚

### æ ¸å¿ƒç‰¹ç‚¹

- ğŸ¯ **æ— éœ€ API è°ƒç”¨**ï¼šç”¨æˆ·æ‰‹åŠ¨ä¸ Gemini å¯¹è¯ï¼Œé¿å… API è°ƒç”¨å¤±è´¥
- ğŸ“Š **å¯è§†åŒ–å±•ç¤º**ï¼š100 å¹´è¿åŠ¿ä»¥ K çº¿å›¾å½¢å¼å‘ˆç°ï¼Œç›´è§‚æ˜“æ‡‚
- ğŸ” **è¯¦ç»†åˆ†æ**ï¼šåŒ…å«æ€»è¯„ã€äº‹ä¸šã€è´¢å¯Œã€å©šå§»ã€å¥åº·ã€å…­äº²ç­‰ 6 ä¸ªç»´åº¦
- ğŸ¨ **ç°ä»£ UI**ï¼šé‡‡ç”¨ Tailwind CSSï¼Œç•Œé¢ç®€æ´ç¾è§‚
- ğŸ“± **å“åº”å¼è®¾è®¡**ï¼šæ”¯æŒæ¡Œé¢å’Œç§»åŠ¨ç«¯è®¿é—®

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### 1. å…«å­—æ’ç›˜

- è¾“å…¥å››æŸ±å¹²æ”¯ï¼ˆå¹´ã€æœˆã€æ—¥ã€æ—¶ï¼‰
- è‡ªåŠ¨è®¡ç®—å¤§è¿æ’åºæ–¹å‘ï¼ˆé¡ºè¡Œ/é€†è¡Œï¼‰
- æ”¯æŒè‡ªå®šä¹‰èµ·è¿å¹´é¾„å’Œç¬¬ä¸€æ­¥å¤§è¿

### 2. Prompt ç”Ÿæˆ

- è‡ªåŠ¨ç”Ÿæˆå®Œæ•´çš„ Gemini å¯¹è¯ Prompt
- åŒ…å«ç³»ç»Ÿè§’è‰²è®¾å®šå’Œç”¨æˆ·æç¤ºè¯
- ä¸€é”®å¤åˆ¶ï¼Œæ–¹ä¾¿ä¸ Gemini å¯¹è¯

### 3. ç»“æœå¯è§†åŒ–

- **K çº¿å›¾**ï¼š100 å¹´è¿åŠ¿èµ°åŠ¿ï¼Œç»¿è‰²ä»£è¡¨å‰è¿ï¼Œçº¢è‰²ä»£è¡¨å‡¶è¿
- **è¯¦ç»†æ‰¹æ–­**ï¼šç‚¹å‡» K çº¿æŸ¥çœ‹æ¯å¹´çš„æµå¹´è¯¦æ‰¹
- **å¤šç»´åº¦åˆ†æ**ï¼š6 ä¸ªç»´åº¦è¯„åˆ†ï¼ˆ0-10 åˆ†ï¼‰å’Œè¯¦ç»†åˆ†æ

### 4. æ–‡ä»¶ä¸Šä¼ 

- æ”¯æŒä¸Šä¼  Gemini è¿”å›çš„ JSON ç»“æœæ–‡ä»¶
- è‡ªåŠ¨æ•°æ®æ ¼å¼è½¬æ¢å’ŒéªŒè¯
- æ‹–æ‹½ä¸Šä¼ ï¼Œæ“ä½œä¾¿æ·

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 18.0.0
- npm >= 9.0.0

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**

   ```bash
   git clone <repository-url>
   cd lifekline
   ```

2. **å®‰è£…ä¾èµ–**

   ```bash
   npm install
   ```

3. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**

   ```bash
   npm run dev
   ```

4. **è®¿é—®åº”ç”¨**

   - æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://localhost:5173`

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

æ„å»ºäº§ç‰©å°†è¾“å‡ºåˆ° `dist` ç›®å½•ã€‚

---

## ğŸ“– ä½¿ç”¨æŒ‡å—

### å®Œæ•´æµç¨‹

#### ç¬¬ä¸€æ­¥ï¼šè¾“å…¥å…«å­—ä¿¡æ¯

1. å¡«å†™åŸºæœ¬ä¿¡æ¯ï¼š

   - å§“åï¼ˆå¯é€‰ï¼‰
   - æ€§åˆ«ï¼ˆä¹¾é€ /å¤é€ ï¼‰
   - å‡ºç”Ÿå¹´ä»½ï¼ˆé˜³å†ï¼‰

2. è¾“å…¥å››æŸ±å¹²æ”¯ï¼š

   - å¹´æŸ±ï¼ˆå¦‚ï¼šç”²ç”³ï¼‰
   - æœˆæŸ±ï¼ˆå¦‚ï¼šç”²æˆŒï¼‰
   - æ—¥æŸ±ï¼ˆå¦‚ï¼šæˆŠè¾°ï¼‰
   - æ—¶æŸ±ï¼ˆå¦‚ï¼šä¸å·³ï¼‰

3. è¾“å…¥å¤§è¿ä¿¡æ¯ï¼š

   - èµ·è¿å¹´é¾„ï¼ˆè™šå²ï¼‰
   - ç¬¬ä¸€æ­¥å¤§è¿å¹²æ”¯

#### ç¬¬äºŒæ­¥ï¼šç”Ÿæˆ Prompt

1. ç‚¹å‡»"ç”Ÿæˆ Gemini Prompt"æŒ‰é’®
2. å¼¹å‡ºçª—å£æ˜¾ç¤ºå®Œæ•´çš„ Prompt å†…å®¹
3. å¤åˆ¶"ç³»ç»Ÿè§’è‰²è®¾å®š"å¹¶å‘é€ç»™ Gemini
4. ç­‰å¾… Gemini ç¡®è®¤åï¼Œå¤åˆ¶"ç”¨æˆ·æç¤ºè¯"å¹¶å‘é€
5. Gemini ä¼šè¿”å› JSON æ ¼å¼çš„åˆ†æç»“æœ

#### ç¬¬ä¸‰æ­¥ï¼šä¸Šä¼ ç»“æœ

1. å°† Gemini è¿”å›çš„ JSON ä¿å­˜ä¸ºæ–‡ä»¶ï¼ˆå¦‚ï¼šresult.jsonï¼‰
2. å…³é—­ Prompt çª—å£
3. åœ¨æ–‡ä»¶ä¸Šä¼ åŒºåŸŸæ‹–æ‹½æˆ–é€‰æ‹© JSON æ–‡ä»¶
4. ç³»ç»Ÿè‡ªåŠ¨è§£æå¹¶æ˜¾ç¤º K çº¿å›¾å’Œåˆ†ææŠ¥å‘Š

### æŸ¥çœ‹ç»“æœ

- **K çº¿å›¾**ï¼šæŸ¥çœ‹ 100 å¹´è¿åŠ¿èµ°åŠ¿
- **ç‚¹å‡» K çº¿**ï¼šæŸ¥çœ‹æ¯å¹´çš„è¯¦ç»†æµå¹´æ‰¹æ–­
- **åˆ†ææŠ¥å‘Š**ï¼šæŸ¥çœ‹å„ç»´åº¦çš„è¯„åˆ†å’Œåˆ†æ

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
lifekline/
â”œâ”€â”€ src/                     # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ components/          # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ AnalysisResult.tsx        # åˆ†æç»“æœå±•ç¤ºç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ BaziForm.tsx              # å…«å­—è¾“å…¥è¡¨å•
â”‚   â”‚   â”œâ”€â”€ DimensionComparisonChart.tsx # å¤šç»´åº¦å¯¹æ¯”å›¾
â”‚   â”‚   â”œâ”€â”€ EnhancedKLineChart.tsx     # å¢å¼ºKçº¿å›¾ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ErrorBoundary.tsx          # é”™è¯¯è¾¹ç•Œç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ExportButton.tsx           # å¯¼å‡ºåŠŸèƒ½ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ FileUpload.tsx             # æ–‡ä»¶ä¸Šä¼ ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ HistoryPanel.tsx           # å†å²è®°å½•é¢æ¿
â”‚   â”‚   â”œâ”€â”€ LoadingSpinner.tsx         # åŠ è½½åŠ¨ç”»ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ PromptDisplay.tsx          # Promptæ˜¾ç¤ºç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ StatisticsPanel.tsx       # ç»Ÿè®¡åˆ†æé¢æ¿
â”‚   â”‚   â”œâ”€â”€ Toast.tsx                  # Toasté€šçŸ¥ç»„ä»¶
â”‚   â”‚   â””â”€â”€ ToastContainer.tsx         # Toastå®¹å™¨ç»„ä»¶
â”‚   â”œâ”€â”€ hooks/              # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â””â”€â”€ useToast.ts                # Toast Hook
â”‚   â”œâ”€â”€ services/           # æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ geminiService.ts           # Gemini APIæœåŠ¡ï¼ˆä¿ç•™ç”¨äºå‘åå…¼å®¹ï¼‰
â”‚   â”‚   â””â”€â”€ promptGenerator.ts         # Promptç”ŸæˆæœåŠ¡
â”‚   â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ storage.ts                 # æœ¬åœ°å­˜å‚¨å·¥å…·
â”‚   â”‚   â””â”€â”€ validation.ts              # æ•°æ®éªŒè¯å·¥å…·
â”‚   â”œâ”€â”€ App.tsx             # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ index.tsx           # å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ types.ts            # TypeScriptç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ constants.ts        # å¸¸é‡é…ç½®
â”‚   â””â”€â”€ vite-env.d.ts       # Viteç±»å‹å£°æ˜
â”œâ”€â”€ public/                  # é™æ€èµ„æºç›®å½•
â”‚   â”œâ”€â”€ prompts/            # Prompt æ¨¡æ¿æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ default.txt         # é»˜è®¤ Prompt
â”‚   â”‚   â”œâ”€â”€ detailed.txt        # è¯¦ç»† Prompt
â”‚   â”‚   â”œâ”€â”€ detailed_v2.txt     # è¯¦ç»† Prompt V2ï¼ˆå…¨æ¯æ•°æ®ç‰ˆï¼‰
â”‚   â”‚   â””â”€â”€ detailed_v3.txt     # è¯¦ç»† Prompt V3ï¼ˆæœ€æ–°ç‰ˆï¼‰
â”‚   â”œâ”€â”€ metadata.json       # å…ƒæ•°æ®
â”‚   â””â”€â”€ web.config          # WebæœåŠ¡å™¨é…ç½®
â”œâ”€â”€ docs/                    # æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ README.md               # æ–‡æ¡£ç´¢å¼•
â”‚   â”œâ”€â”€ DEPLOYMENT.md           # éƒ¨ç½²æŒ‡å—
â”‚   â””â”€â”€ TROUBLESHOOTING.md      # æ•…éšœæ’é™¤æŒ‡å—
â”œâ”€â”€ data/                    # æ•°æ®ç›®å½•
â”‚   â”œâ”€â”€ examples/           # ç¤ºä¾‹æ•°æ®ï¼ˆå¯æäº¤åˆ°Gitï¼‰
â”‚   â”‚   â”œâ”€â”€ result.json         # åŸå§‹ç¤ºä¾‹æ•°æ®
â”‚   â”‚   â””â”€â”€ result-converted.json # è½¬æ¢åçš„ç¤ºä¾‹æ•°æ®
â”‚   â””â”€â”€ Users_data/         # ç”¨æˆ·æ•°æ®ï¼ˆå·²åŠ å…¥.gitignoreï¼‰
â”œâ”€â”€ .github/                 # GitHubé…ç½®
â”‚   â””â”€â”€ workflows/          # GitHub Actionså·¥ä½œæµ
â”‚       â””â”€â”€ deploy.yml       # è‡ªåŠ¨éƒ¨ç½²é…ç½®
â”œâ”€â”€ index.html              # HTMLæ¨¡æ¿ï¼ˆViteå…¥å£ï¼‰
â”œâ”€â”€ vite.config.ts          # Viteé…ç½®
â”œâ”€â”€ tailwind.config.js       # Tailwind CSSé…ç½®
â”œâ”€â”€ tsconfig.json           # TypeScripté…ç½®
â”œâ”€â”€ package.json            # é¡¹ç›®é…ç½®
â”œâ”€â”€ .gitignore              # Gitå¿½ç•¥æ–‡ä»¶
â””â”€â”€ README.md               # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯æ¡†æ¶

- **React 19** - UI æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨
- **Vite** - æ„å»ºå·¥å…·

### UI åº“

- **Tailwind CSS** - æ ·å¼æ¡†æ¶
- **Lucide React** - å›¾æ ‡åº“
- **Recharts** - å›¾è¡¨åº“

### æ ¸å¿ƒåŠŸèƒ½

- **Prompt ç”Ÿæˆ** - è‡ªåŠ¨ç”Ÿæˆå®Œæ•´çš„ Gemini å¯¹è¯ Prompt
- **æ•°æ®è½¬æ¢** - è‡ªåŠ¨è½¬æ¢ Gemini è¿”å›çš„ JSON æ ¼å¼
- **æ–‡ä»¶ä¸Šä¼ ** - æ”¯æŒæ‹–æ‹½ä¸Šä¼  JSON æ–‡ä»¶

---

## ğŸ“ æ•°æ®æ ¼å¼

### è¾“å…¥æ ¼å¼ï¼ˆBaziInputï¼‰

```typescript
{
  name?: string;           // å§“åï¼ˆå¯é€‰ï¼‰
  gender: Gender;          // æ€§åˆ«ï¼ˆMALE/FEMALEï¼‰
  birthYear: string;       // å‡ºç”Ÿå¹´ä»½
  yearPillar: string;      // å¹´æŸ±
  monthPillar: string;     // æœˆæŸ±
  dayPillar: string;       // æ—¥æŸ±
  hourPillar: string;      // æ—¶æŸ±
  startAge: string;        // èµ·è¿å¹´é¾„ï¼ˆè™šå²ï¼‰
  firstDaYun: string;      // ç¬¬ä¸€æ­¥å¤§è¿
}
```

### è¾“å‡ºæ ¼å¼ï¼ˆLifeDestinyResultï¼‰

```typescript
{
  chartData: KLinePoint[];  // Kçº¿æ•°æ®ï¼ˆ100ä¸ªæ•°æ®ç‚¹ï¼‰
  analysis: AnalysisData;    // åˆ†ææŠ¥å‘Š
}
```

### K çº¿æ•°æ®ç‚¹æ ¼å¼

```typescript
{
  age: number;        // å¹´é¾„ï¼ˆ1-100ï¼‰
  year: number;       // å¹´ä»½
  ganZhi: string;     // æµå¹´å¹²æ”¯
  daYun?: string;    // å¤§è¿å¹²æ”¯
  open: number;       // å¼€ç›˜ä»·ï¼ˆ0-100ï¼‰
  close: number;      // æ”¶ç›˜ä»·ï¼ˆ0-100ï¼‰
  high: number;       // æœ€é«˜ä»·ï¼ˆ0-100ï¼‰
  low: number;        // æœ€ä½ä»·ï¼ˆ0-100ï¼‰
  score: number;      // ç»¼åˆè¯„åˆ†ï¼ˆ0-100ï¼‰
  reason: string;     // æµå¹´è¯¦æ‰¹ï¼ˆçº¦100å­—ï¼‰
}
```

---

## ğŸ”§ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½

1. **æ–°å¢ç»„ä»¶**ï¼šåœ¨ `components/` ç›®å½•ä¸‹åˆ›å»ºæ–°ç»„ä»¶
2. **æ–°å¢æœåŠ¡**ï¼šåœ¨ `services/` ç›®å½•ä¸‹åˆ›å»ºæ–°æœåŠ¡
3. **ç±»å‹å®šä¹‰**ï¼šåœ¨ `types.ts` ä¸­æ·»åŠ ç±»å‹å®šä¹‰

### ä»£ç è§„èŒƒ

- ä½¿ç”¨ TypeScript ä¸¥æ ¼æ¨¡å¼
- éµå¾ª React Hooks æœ€ä½³å®è·µ
- ç»„ä»¶ä½¿ç”¨å‡½æ•°å¼ç»„ä»¶
- æ ·å¼ä½¿ç”¨ Tailwind CSS

### è°ƒè¯•æŠ€å·§

- ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·æŸ¥çœ‹ç½‘ç»œè¯·æ±‚
- æ£€æŸ¥æ§åˆ¶å°æ—¥å¿—äº†è§£æ•°æ®æµè½¬
- ä½¿ç”¨ React DevTools è°ƒè¯•ç»„ä»¶çŠ¶æ€

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [éƒ¨ç½²æŒ‡å—](./docs/DEPLOYMENT.md) - GitHub Pages éƒ¨ç½²è¯´æ˜
- [æ•…éšœæ’é™¤](./docs/TROUBLESHOOTING.md) - å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ
- [æ–‡æ¡£ç´¢å¼•](./docs/README.md) - æ‰€æœ‰æ–‡æ¡£çš„ç´¢å¼•

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **æ•°æ®å‡†ç¡®æ€§**ï¼šæœ¬é¡¹ç›®ä»…ä¾›å¨±ä¹ä¸æ–‡åŒ–ç ”ç©¶ï¼Œè¯·å‹¿è¿·ä¿¡
2. **æ•°æ®éšç§**ï¼šæ‰€æœ‰æ•°æ®åœ¨æœ¬åœ°å¤„ç†ï¼Œä¸ä¼šä¸Šä¼ åˆ°æœåŠ¡å™¨
3. **æµè§ˆå™¨å…¼å®¹**ï¼šå»ºè®®ä½¿ç”¨ç°ä»£æµè§ˆå™¨ï¼ˆChromeã€Firefoxã€Edge ç­‰ï¼‰

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ã€‚

---

## ğŸ‘¤ ä½œè€…

- é¡¹ç›®åœ°å€ï¼š[GitHub](https://github.com/your-username/lifekline)
- é—®é¢˜åé¦ˆï¼š[Issues](https://github.com/your-username/lifekline/issues)

---

## ğŸ™ è‡´è°¢

- æ„Ÿè°¢ä¼ ç»Ÿå…«å­—å‘½ç†å­¦çš„æ™ºæ…§
- æ„Ÿè°¢ Gemini AI çš„å¼ºå¤§èƒ½åŠ›
- æ„Ÿè°¢æ‰€æœ‰å¼€æºé¡¹ç›®çš„æ”¯æŒ

---

<div align="center">

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª Starï¼**

</div>
