# äººç”Ÿ K çº¿é¡¹ç›® - äº§å“éœ€æ±‚æ–‡æ¡£ä¸æŠ€æœ¯è§„æ ¼è¯´æ˜ä¹¦

> **é¡¹ç›®åç§°**ï¼šäººç”Ÿ K çº¿ï¼ˆLife Destiny K-Lineï¼‰  
> **é¡¹ç›®ç‰ˆæœ¬**ï¼šv2.0  
> **æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0  
> **æœ€åæ›´æ–°**ï¼š2024å¹´12æœˆ

---

## ğŸ“‹ æ–‡æ¡£è¯´æ˜

æœ¬æ–‡æ¡£ç”±**äº§å“ç»ç†**å’Œ**å¼€å‘å·¥ç¨‹å¸ˆ**å…±åŒæ’°å†™ï¼Œæ˜ç¡®åˆ’åˆ†èŒè´£è¾¹ç•Œï¼š

- **ç¬¬ä¸€éƒ¨åˆ†ï¼šäº§å“éœ€æ±‚æ–‡æ¡£ï¼ˆPRDï¼‰** - ç”±äº§å“ç»ç†ä¸»å¯¼ï¼Œå®šä¹‰"åšä»€ä¹ˆ"å’Œ"ä¸ºä»€ä¹ˆåš"
- **ç¬¬äºŒéƒ¨åˆ†ï¼šæŠ€æœ¯è§„æ ¼è¯´æ˜ä¹¦ï¼ˆFSDï¼‰** - ç”±å¼€å‘å·¥ç¨‹å¸ˆä¸»å¯¼ï¼Œå®šä¹‰"æ€ä¹ˆåš"
- **ç¬¬ä¸‰éƒ¨åˆ†ï¼šé¡¹ç›®äº¤ä»˜æ–‡æ¡£** - åŒæ–¹åä½œï¼Œå®šä¹‰"ä½•æ—¶äº¤ä»˜"å’Œ"å¦‚ä½•éªŒæ”¶"

---

# ç¬¬ä¸€éƒ¨åˆ†ï¼šäº§å“éœ€æ±‚æ–‡æ¡£ï¼ˆPRDï¼‰

> **æ–‡æ¡£è´Ÿè´£äºº**ï¼šäº§å“ç»ç†  
> **å®¡æ ¸äºº**ï¼šæŠ€æœ¯è´Ÿè´£äººã€è®¾è®¡è´Ÿè´£äºº  
> **æœ€åæ›´æ–°**ï¼š2024å¹´12æœˆ

---

## 1. é¡¹ç›®æ¦‚è¿°

### 1.1 é¡¹ç›®èƒŒæ™¯

ä¼ ç»Ÿå‘½ç†å·¥å…·å­˜åœ¨ä¸‰å¤§æ ¸å¿ƒç—›ç‚¹ï¼š

1. **è¾“å…¥é—¨æ§›é«˜**ï¼šç”¨æˆ·éœ€è¦ç†è§£å¹²æ”¯ã€å¤§è¿ç­‰ä¸“ä¸šæ¦‚å¿µï¼Œæ’ç›˜æµç¨‹å¤æ‚ï¼ˆå¹³å‡ 15-20 åˆ†é’Ÿï¼‰
2. **ç»“æœç†è§£éš¾**ï¼šè¾“å‡ºä»¥é•¿æ–‡ä¸ºä¸»ï¼Œç¼ºå°‘è¶‹åŠ¿è§†è§’ï¼Œç”¨æˆ·éš¾ä»¥å¿«é€ŸæŠŠæ¡äººç”Ÿå…³é”®èŠ‚ç‚¹
3. **æ•°æ®éš¾ä¿å­˜**ï¼šç¼ºå°‘ç»“æ„åŒ–å­˜å‚¨å’Œå†å²å¯¹æ¯”åŠŸèƒ½ï¼Œç”¨æˆ·æ— æ³•å¤ç›˜å’Œè¿½è¸ª

### 1.2 äº§å“å®šä½

**äººç”Ÿ K çº¿**æ˜¯ä¸€æ¬¾åˆ›æ–°çš„å‘½ç†å¯è§†åŒ–å·¥å…·ï¼Œå°†ä¼ ç»Ÿå…«å­—å‘½ç†å­¦ä¸ç°ä»£é‡‘è K çº¿å›¾æŠ€æœ¯ç›¸ç»“åˆï¼Œé€šè¿‡ AI å¤§æ¨¡å‹åˆ†æç”¨æˆ·çš„ç”Ÿè¾°å…«å­—ï¼Œç”Ÿæˆ 100 å¹´çš„äººç”Ÿè¿åŠ¿ K çº¿å›¾ï¼Œå¸®åŠ©ç”¨æˆ·ä»¥ç›´è§‚çš„æ–¹å¼äº†è§£äººç”Ÿèµ·ä¼ã€æŠŠæ¡å…³é”®è½¬æŠ˜ç‚¹ã€‚

### 1.3 ç›®æ ‡ç”¨æˆ·

**ä¸»è¦ç”¨æˆ·ç”»åƒ**ï¼š
- **æŠ€æœ¯ä»ä¸šè€…**ï¼ˆ30-40å²ï¼‰ï¼šå¯¹å‘½ç†æ„Ÿå…´è¶£ï¼Œå…·å¤‡åŸºç¡€æŠ€æœ¯èƒ½åŠ›ï¼Œè¿½æ±‚æ•ˆç‡
- **å‘½ç†çˆ±å¥½è€…**ï¼ˆ25-50å²ï¼‰ï¼šæœ‰ä¸€å®šå‘½ç†åŸºç¡€ï¼Œå¸Œæœ›ç”¨ç°ä»£å·¥å…·æå‡åˆ†ææ•ˆç‡

**æ¬¡è¦ç”¨æˆ·ç”»åƒ**ï¼š
- **äººç”Ÿè§„åˆ’è€…**ï¼ˆ20-35å²ï¼‰ï¼šå¸Œæœ›äº†è§£äººç”Ÿè¶‹åŠ¿ï¼Œè¾…åŠ©èŒä¸šå’Œäººç”Ÿè§„åˆ’

### 1.4 æ ¸å¿ƒä»·å€¼ä¸»å¼ 

- **é™ä½ä½¿ç”¨é—¨æ§›**ï¼š3 æ­¥æ“ä½œï¼ˆå¡«å…«å­— â†’ ç”Ÿæˆ Prompt â†’ ä¸Šä¼  JSONï¼‰ï¼Œä» 20 åˆ†é’Ÿé™è‡³ 5 åˆ†é’Ÿ
- **å¯è§†åŒ–è¶‹åŠ¿**ï¼šK çº¿å›¾ç›´è§‚å±•ç¤º 100 å¹´è¿åŠ¿èµ°åŠ¿ï¼Œä¸€çœ¼è¯†åˆ«å…³é”®å¹´ä»½
- **å¤šç»´åº¦åˆ†æ**ï¼šä»æ€»è¯„ã€äº‹ä¸šã€è´¢å¯Œã€æ„Ÿæƒ…ã€å¥åº·ã€å…­äº²ç­‰ 6 ä¸ªç»´åº¦å…¨é¢åˆ†æ
- **æ•°æ®é©±åŠ¨è¿­ä»£**ï¼šé€šè¿‡åŸ‹ç‚¹å’Œç”¨æˆ·åé¦ˆæŒç»­ä¼˜åŒ–äº§å“ä½“éªŒ

### 1.5 æˆåŠŸæŒ‡æ ‡ï¼ˆKPIï¼‰

**ç”¨æˆ·æŒ‡æ ‡**ï¼š
- **DAUï¼ˆæ—¥æ´»è·ƒç”¨æˆ·ï¼‰**ï¼šç›®æ ‡ 100+ï¼ˆä¸Šçº¿ 3 ä¸ªæœˆåï¼‰
- **ç”¨æˆ·ç•™å­˜ç‡**ï¼šæ¬¡æ—¥ç•™å­˜ > 30%ï¼Œ7 æ—¥ç•™å­˜ > 15%
- **ä»»åŠ¡å®Œæˆç‡**ï¼šä»è¾“å…¥åˆ°æŸ¥çœ‹ç»“æœçš„å®Œæˆç‡ > 70%

**äº§å“æŒ‡æ ‡**ï¼š
- **æ ¼å¼ç¨³å®šç‡**ï¼šAI è¾“å‡ºæ ¼å¼æ­£ç¡®ç‡ä» 60% æå‡è‡³ 95%+
- **é”™è¯¯ç‡**ï¼šæ•°æ®è§£æé”™è¯¯ç‡ < 5%
- **æ€§èƒ½æŒ‡æ ‡**ï¼šé¦–å±åŠ è½½æ—¶é—´ < 2sï¼Œå›¾è¡¨äº¤äº’å“åº”æ—¶é—´ < 100ms

---

## 2. ç”¨æˆ·ç ”ç©¶ä¸å¸‚åœºåˆ†æ

### 2.1 ç«å“åˆ†æ

| ç«å“ | ä¼˜åŠ¿ | åŠ£åŠ¿ | æˆ‘ä»¬çš„å·®å¼‚åŒ– |
|------|------|------|------------|
| ä¼ ç»Ÿæ’ç›˜ç½‘ç«™ | åŠŸèƒ½å…¨é¢ | æ“ä½œå¤æ‚ï¼Œç»“æœæŠ½è±¡ | 3 æ­¥æ“ä½œï¼Œå¯è§†åŒ–å±•ç¤º |
| å‘½ç† App | ç§»åŠ¨ç«¯ä¾¿æ· | åŠŸèƒ½å•ä¸€ï¼Œç¼ºå°‘è¶‹åŠ¿åˆ†æ | å¤šç»´åº¦ K çº¿å›¾ï¼Œæ•°æ®å¯¼å‡º |
| AI å‘½ç†å·¥å…· | AI åˆ†æ | ç¼ºå°‘å¯è§†åŒ–ï¼Œç»“æœéš¾ä¿å­˜ | K çº¿å›¾ + ç»“æ„åŒ–æ•°æ® |

### 2.2 ç”¨æˆ·è°ƒç ”å‘ç°

**è°ƒç ”æ–¹æ³•**ï¼šé—®å·è°ƒç ”ï¼ˆN=200ï¼‰+ æ·±åº¦è®¿è°ˆï¼ˆN=10ï¼‰

**æ ¸å¿ƒå‘ç°**ï¼š
1. **78% çš„ç”¨æˆ·**è®¤ä¸ºä¼ ç»Ÿå·¥å…·æ“ä½œå¤ªå¤æ‚
2. **65% çš„ç”¨æˆ·**å¸Œæœ›çœ‹åˆ°è¶‹åŠ¿å›¾è€Œéçº¯æ–‡å­—
3. **82% çš„ç”¨æˆ·**å¸Œæœ›ä¿å­˜å’Œå¯¹æ¯”å†å²è®°å½•
4. **45% çš„ç”¨æˆ·**æ„¿æ„ä¸ºæ›´å¥½çš„ä½“éªŒä»˜è´¹ï¼ˆæœªæ¥å•†ä¸šåŒ–æ–¹å‘ï¼‰

### 2.3 ç”¨æˆ·æ—…ç¨‹åœ°å›¾

```
ç”¨æˆ·æ—…ç¨‹ï¼šä»"æƒ³äº†è§£è¿åŠ¿"åˆ°"è·å¾—å¯è§†åŒ–ç»“æœ"

é˜¶æ®µ 1ï¼šè®¤çŸ¥é˜¶æ®µ
- ç—›ç‚¹ï¼šä¸çŸ¥é“å¦‚ä½•å¼€å§‹ï¼Œæ‹…å¿ƒæ“ä½œå¤æ‚
- è§£å†³æ–¹æ¡ˆï¼šé¦–é¡µæ¸…æ™°å±•ç¤º 3 æ­¥æµç¨‹ï¼Œæä¾›ç¤ºä¾‹æ•°æ®

é˜¶æ®µ 2ï¼šè¾“å…¥é˜¶æ®µ
- ç—›ç‚¹ï¼šä¸çŸ¥é“å¦‚ä½•è·å–å…«å­—ä¿¡æ¯
- è§£å†³æ–¹æ¡ˆï¼šæä¾›å¤–éƒ¨æ’ç›˜ç½‘ç«™é“¾æ¥ï¼Œç®€åŒ–è¾“å…¥è¡¨å•

é˜¶æ®µ 3ï¼šç”Ÿæˆé˜¶æ®µ
- ç—›ç‚¹ï¼šä¸çŸ¥é“å¦‚ä½•ä¸ AI å¯¹è¯
- è§£å†³æ–¹æ¡ˆï¼šä¸€é”®å¤åˆ¶ Promptï¼Œæä¾›è¯¦ç»†ä½¿ç”¨è¯´æ˜

é˜¶æ®µ 4ï¼šæŸ¥çœ‹é˜¶æ®µ
- ç—›ç‚¹ï¼šç»“æœéš¾ä»¥ç†è§£
- è§£å†³æ–¹æ¡ˆï¼šK çº¿å›¾å¯è§†åŒ– + å¤šç»´åº¦åˆ†æ + å…³é”®å¹´ä»½æ ‡æ³¨

é˜¶æ®µ 5ï¼šä¿å­˜é˜¶æ®µ
- ç—›ç‚¹ï¼šç»“æœéš¾ä»¥ä¿å­˜å’Œåˆ†äº«
- è§£å†³æ–¹æ¡ˆï¼šæ”¯æŒ JSON/PNG/PDF å¯¼å‡ºï¼Œæœ¬åœ°å†å²è®°å½•
```

---

## 3. åŠŸèƒ½éœ€æ±‚

### 3.1 åŠŸèƒ½ä¼˜å…ˆçº§ï¼ˆMoSCoW æ–¹æ³•ï¼‰

**Must Haveï¼ˆå¿…é¡»æœ‰ï¼‰**ï¼š
- F1ï¼šå…«å­—è¾“å…¥è¡¨å•
- F2ï¼šPrompt ç”Ÿæˆ
- F3ï¼šæ–‡ä»¶ä¸Šä¼ ä¸æ•°æ®è§£æ
- F4ï¼šK çº¿å›¾å¯è§†åŒ–
- F5ï¼šå¤šç»´åº¦åˆ†æå±•ç¤º

**Should Haveï¼ˆåº”è¯¥æœ‰ï¼‰**ï¼š
- F6ï¼šå†å²è®°å½•åŠŸèƒ½
- F7ï¼šæ•°æ®å¯¼å‡ºåŠŸèƒ½ï¼ˆJSON/PNG/PDFï¼‰
- F8ï¼šä½¿ç”¨å¸®åŠ©æ–‡æ¡£

**Could Haveï¼ˆå¯ä»¥æœ‰ï¼‰**ï¼š
- F9ï¼šå¤šç»´åº¦ K çº¿å›¾å¯¹æ¯”
- F10ï¼šç‰ˆæœ¬æ›´æ–°å…¬å‘Š
- F11ï¼šä½¿ç”¨æ—¥å¿—åŸ‹ç‚¹

**Won't Haveï¼ˆæš‚ä¸å®ç°ï¼‰**ï¼š
- ç”¨æˆ·æ³¨å†Œç™»å½•ï¼ˆMVP é˜¶æ®µï¼‰
- äº‘ç«¯æ•°æ®åŒæ­¥ï¼ˆMVP é˜¶æ®µï¼‰
- ä»˜è´¹åŠŸèƒ½ï¼ˆæœªæ¥ç‰ˆæœ¬ï¼‰

### 3.2 æ ¸å¿ƒåŠŸèƒ½è¯¦ç»†è¯´æ˜

#### F1ï¼šå…«å­—è¾“å…¥è¡¨å•

**ç”¨æˆ·æ•…äº‹**ï¼š
> ä½œä¸ºç”¨æˆ·ï¼Œæˆ‘å¸Œæœ›èƒ½å¤Ÿå¿«é€Ÿè¾“å…¥æˆ‘çš„å…«å­—ä¿¡æ¯ï¼Œä»¥ä¾¿ç³»ç»Ÿç”Ÿæˆåˆ†æ Promptã€‚

**åŠŸèƒ½æè¿°**ï¼š
- è¾“å…¥å­—æ®µï¼šå§“åï¼ˆå¯é€‰ï¼‰ã€æ€§åˆ«ã€å‡ºç”Ÿå¹´ä»½ã€å››æŸ±å¹²æ”¯ã€èµ·è¿å¹´é¾„ã€ç¬¬ä¸€æ­¥å¤§è¿
- è‡ªåŠ¨è®¡ç®—ï¼šæ ¹æ®å¹´æŸ±å¤©å¹²å’Œæ€§åˆ«è‡ªåŠ¨è®¡ç®—å¤§è¿æ’åºæ–¹å‘ï¼ˆé¡ºè¡Œ/é€†è¡Œï¼‰
- å®æ—¶éªŒè¯ï¼šè¾“å…¥æ—¶å®æ—¶éªŒè¯å¹²æ”¯æ ¼å¼ã€å¹´ä»½èŒƒå›´ï¼ˆ1900-2100ï¼‰

**éªŒæ”¶æ ‡å‡†**ï¼š
- âœ… æ‰€æœ‰å¿…å¡«å­—æ®µæœ‰æ˜ç¡®çš„é”™è¯¯æç¤º
- âœ… å¹²æ”¯æ ¼å¼éªŒè¯ï¼šå¿…é¡»æ˜¯ 2 ä¸ªå­—ç¬¦ï¼Œç¬¬ä¸€ä¸ªæ˜¯å¤©å¹²ï¼Œç¬¬äºŒä¸ªæ˜¯åœ°æ”¯
- âœ… å¹´ä»½èŒƒå›´éªŒè¯ï¼š1900-2100
- âœ… å¤§è¿æ–¹å‘è‡ªåŠ¨è®¡ç®—æ­£ç¡®ç‡ 100%
- âœ… è¡¨å•æäº¤åæ•°æ®æ ¼å¼ç¬¦åˆåç«¯è¦æ±‚

**äº¤äº’è®¾è®¡**ï¼š
- è¡¨å•é‡‡ç”¨å¡ç‰‡å¼å¸ƒå±€ï¼Œå­—æ®µåˆ†ç»„æ¸…æ™°
- é”™è¯¯æç¤ºæ˜¾ç¤ºåœ¨å­—æ®µä¸‹æ–¹ï¼Œä½¿ç”¨çº¢è‰²æ–‡å­—
- æä¾›"ä¸€é”®ä½“éªŒç¤ºä¾‹æ•°æ®"æŒ‰é’®ï¼Œé™ä½ä½¿ç”¨é—¨æ§›

---

#### F2ï¼šPrompt ç”Ÿæˆ

**ç”¨æˆ·æ•…äº‹**ï¼š
> ä½œä¸ºç”¨æˆ·ï¼Œæˆ‘å¸Œæœ›ç³»ç»Ÿèƒ½å¤Ÿè‡ªåŠ¨ç”Ÿæˆå®Œæ•´çš„ AI å¯¹è¯ Promptï¼Œä»¥ä¾¿æˆ‘èƒ½å¤Ÿä¸ Gemini ç­‰ AI æ¨¡å‹å¯¹è¯ã€‚

**åŠŸèƒ½æè¿°**ï¼š
- æ”¯æŒå¤šç§ Prompt ç±»å‹ï¼šdefaultã€detailedã€detailed_v2ã€detailed_v3ã€detailed_v4ã€custom
- ç”ŸæˆåŒæ®µå¼ Promptï¼šç³»ç»Ÿè§’è‰²è®¾å®š + ç”¨æˆ·æç¤ºè¯
- ä¸€é”®å¤åˆ¶åŠŸèƒ½ï¼šåˆ†åˆ«å¤åˆ¶ç³»ç»Ÿæç¤ºã€ç”¨æˆ·æç¤ºã€å®Œæ•´å¯¹è¯

**éªŒæ”¶æ ‡å‡†**ï¼š
- âœ… æ‰€æœ‰ Prompt ç±»å‹éƒ½èƒ½æ­£ç¡®ç”Ÿæˆ
- âœ… ç³»ç»Ÿæç¤ºå’Œç”¨æˆ·æç¤ºæ ¼å¼æ­£ç¡®ï¼Œç¬¦åˆ AI æ¨¡å‹è¦æ±‚
- âœ… å¤åˆ¶åŠŸèƒ½åœ¨æ‰€æœ‰ä¸»æµæµè§ˆå™¨æ­£å¸¸å·¥ä½œ
- âœ… Prompt å†…å®¹åŒ…å«æ‰€æœ‰ç”¨æˆ·è¾“å…¥çš„å…«å­—ä¿¡æ¯
- âœ… å¤§è¿åºåˆ—è®¡ç®—é€»è¾‘æ­£ç¡®

**äº¤äº’è®¾è®¡**ï¼š
- Prompt å±•ç¤ºåŒºåŸŸä½¿ç”¨ä»£ç å—æ ·å¼ï¼Œä¾¿äºé˜…è¯»
- ä¸‰ä¸ªå¤åˆ¶æŒ‰é’®åˆ†åˆ«ä½äºç³»ç»Ÿæç¤ºã€ç”¨æˆ·æç¤ºã€å®Œæ•´å¯¹è¯åŒºåŸŸ
- å¤åˆ¶æˆåŠŸåæ˜¾ç¤º Toast æç¤º

---

#### F3ï¼šæ–‡ä»¶ä¸Šä¼ ä¸æ•°æ®è§£æ

**ç”¨æˆ·æ•…äº‹**ï¼š
> ä½œä¸ºç”¨æˆ·ï¼Œæˆ‘å¸Œæœ›èƒ½å¤Ÿä¸Šä¼  AI è¿”å›çš„ JSON æ–‡ä»¶ï¼Œä»¥ä¾¿ç³»ç»Ÿè‡ªåŠ¨è§£æå¹¶å±•ç¤ºç»“æœã€‚

**åŠŸèƒ½æè¿°**ï¼š
- æ”¯æŒæ‹–æ‹½ä¸Šä¼  JSON æ–‡ä»¶
- æ”¯æŒç²˜è´´ JSON æ–‡æœ¬
- è‡ªåŠ¨è¯†åˆ«æ•°æ®æ ¼å¼ç‰ˆæœ¬ï¼ˆV1/V2/V3/V4ï¼‰
- æ•°æ®æ ¼å¼è½¬æ¢å’ŒéªŒè¯

**éªŒæ”¶æ ‡å‡†**ï¼š
- âœ… æ‹–æ‹½ä¸Šä¼ åŠŸèƒ½åœ¨æ‰€æœ‰ä¸»æµæµè§ˆå™¨æ­£å¸¸å·¥ä½œ
- âœ… æ”¯æŒçš„æ–‡ä»¶å¤§å°é™åˆ¶ï¼š< 10MB
- âœ… è‡ªåŠ¨è¯†åˆ« 4 ç§æ•°æ®æ ¼å¼ç‰ˆæœ¬ï¼Œè¯†åˆ«å‡†ç¡®ç‡ > 95%
- âœ… æ•°æ®è½¬æ¢åæ ¼å¼ç»Ÿä¸€ï¼Œç¬¦åˆå‰ç«¯å±•ç¤ºè¦æ±‚
- âœ… æ•°æ®éªŒè¯å¤±è´¥æ—¶æ˜¾ç¤ºè¯¦ç»†çš„é”™è¯¯ä¿¡æ¯

**äº¤äº’è®¾è®¡**ï¼š
- ä¸Šä¼ åŒºåŸŸæœ‰æ˜æ˜¾çš„æ‹–æ‹½æç¤º
- ä¸Šä¼ è¿‡ç¨‹ä¸­æ˜¾ç¤ºåŠ è½½åŠ¨ç”»
- éªŒè¯å¤±è´¥æ—¶æ˜¾ç¤ºé”™è¯¯è¯¦æƒ…ï¼Œå¸®åŠ©ç”¨æˆ·å®šä½é—®é¢˜

---

#### F4ï¼šK çº¿å›¾å¯è§†åŒ–

**ç”¨æˆ·æ•…äº‹**ï¼š
> ä½œä¸ºç”¨æˆ·ï¼Œæˆ‘å¸Œæœ›èƒ½å¤Ÿçœ‹åˆ°æˆ‘çš„äººç”Ÿè¿åŠ¿ K çº¿å›¾ï¼Œä»¥ä¾¿æˆ‘èƒ½å¤Ÿç›´è§‚åœ°äº†è§£äººç”Ÿèµ·ä¼ã€‚

**åŠŸèƒ½æè¿°**ï¼š
- 100 å¹´è¿åŠ¿ K çº¿å›¾å±•ç¤ºï¼ˆ1-100 å²ï¼‰
- æ”¯æŒç¼©æ”¾ã€ç­›é€‰ã€å…³é”®å¹´ä»½æ ‡æ³¨
- ç‚¹å‡» K çº¿æŸ¥çœ‹è¯¦ç»†æµå¹´æ‰¹æ–­
- å¤§è¿åˆ†ç•Œçº¿è‡ªåŠ¨æ ‡æ³¨

**éªŒæ”¶æ ‡å‡†**ï¼š
- âœ… K çº¿å›¾æ­£ç¡®æ˜¾ç¤º 100 ä¸ªæ•°æ®ç‚¹
- âœ… ç¼©æ”¾åŠŸèƒ½æµç•…ï¼Œå“åº”æ—¶é—´ < 100ms
- âœ… å…³é”®å¹´ä»½ï¼ˆæœ€é«˜/æœ€ä½åˆ†å¹´ä»½ï¼‰è‡ªåŠ¨æ ‡æ³¨
- âœ… ç‚¹å‡» K çº¿æ˜¾ç¤º Tooltipï¼ŒåŒ…å«å¹´é¾„ã€å¹´ä»½ã€è¯„åˆ†ã€æµå¹´æ‰¹æ–­
- âœ… å¤§è¿åˆ†ç•Œçº¿æ¸…æ™°å¯è§ï¼Œæ ‡æ³¨æ­£ç¡®

**äº¤äº’è®¾è®¡**ï¼š
- K çº¿å›¾å æ®ä¸»è¦è§†è§‰åŒºåŸŸï¼Œé«˜åº¦è‡³å°‘ 400px
- ç»¿è‰² K çº¿è¡¨ç¤ºå‰è¿ï¼ˆclose > openï¼‰ï¼Œçº¢è‰²è¡¨ç¤ºå‡¶è¿ï¼ˆclose < openï¼‰
- Tooltip ä½¿ç”¨å¡ç‰‡æ ·å¼ï¼Œä¿¡æ¯å±‚æ¬¡æ¸…æ™°

---

#### F5ï¼šå¤šç»´åº¦åˆ†æ

**ç”¨æˆ·æ•…äº‹**ï¼š
> ä½œä¸ºç”¨æˆ·ï¼Œæˆ‘å¸Œæœ›èƒ½å¤Ÿçœ‹åˆ°å„ä¸ªç»´åº¦çš„è¯¦ç»†åˆ†æï¼Œä»¥ä¾¿æˆ‘èƒ½å¤Ÿå…¨é¢äº†è§£æˆ‘çš„è¿åŠ¿ã€‚

**åŠŸèƒ½æè¿°**ï¼š
- 6 ä¸ªç»´åº¦è¯„åˆ†å±•ç¤ºï¼ˆæ€»è¯„ã€äº‹ä¸šã€è´¢å¯Œã€å©šå§»ã€å¥åº·ã€å…­äº²ï¼‰
- å¤šç»´åº¦ K çº¿å›¾ï¼ˆå„ç»´åº¦è¶‹åŠ¿æ›²çº¿ï¼‰
- ç»Ÿè®¡åˆ†æé¢æ¿ï¼ˆå¹³å‡å€¼ã€æœ€é«˜/æœ€ä½å¹´ä»½ï¼‰

**éªŒæ”¶æ ‡å‡†**ï¼š
- âœ… 6 ä¸ªç»´åº¦è¯„åˆ†æ­£ç¡®æ˜¾ç¤ºï¼ˆ0-10 åˆ†ï¼‰
- âœ… å¤šç»´åº¦ K çº¿å›¾æ­£ç¡®æ˜¾ç¤ºå„ç»´åº¦è¶‹åŠ¿
- âœ… ç»Ÿè®¡åˆ†ææ•°æ®å‡†ç¡®
- âœ… ç»´åº¦å¼€å…³åŠŸèƒ½æ­£å¸¸å·¥ä½œ

**äº¤äº’è®¾è®¡**ï¼š
- ç»´åº¦è¯„åˆ†ä½¿ç”¨å¡ç‰‡å¼å¸ƒå±€ï¼Œæ¯ä¸ªç»´åº¦ä¸€ä¸ªå¡ç‰‡
- å¤šç»´åº¦ K çº¿å›¾æ”¯æŒåˆ‡æ¢æ˜¾ç¤º/éšè—å„ç»´åº¦
- ç»Ÿè®¡åˆ†æé¢æ¿ä½¿ç”¨è¡¨æ ¼æˆ–å¡ç‰‡å±•ç¤º

---

### 3.3 éåŠŸèƒ½éœ€æ±‚

#### 3.3.1 æ€§èƒ½è¦æ±‚

| æŒ‡æ ‡ | ç›®æ ‡å€¼ | æµ‹é‡æ–¹æ³• |
|------|--------|----------|
| é¦–å±åŠ è½½æ—¶é—´ | < 2s | Lighthouse Performance Score |
| å›¾è¡¨æ¸²æŸ“æ—¶é—´ | < 500ms | Performance API |
| äº¤äº’å“åº”æ—¶é—´ | < 100ms | ç”¨æˆ·æ“ä½œåˆ°è§†è§‰åé¦ˆçš„æ—¶é—´ |
| æ•°æ®è§£ææ—¶é—´ | < 1s | æ–‡ä»¶ä¸Šä¼ åˆ°ç»“æœå±•ç¤ºçš„æ—¶é—´ |

#### 3.3.2 å¯ç”¨æ€§è¦æ±‚

- **å­¦ä¹ æˆæœ¬**ï¼šæ–°ç”¨æˆ·æ— éœ€åŸ¹è®­å³å¯å®Œæˆæ ¸å¿ƒæµç¨‹ï¼ˆ3 æ­¥æ“ä½œï¼‰
- **é”™è¯¯å¤„ç†**ï¼šæ‰€æœ‰é”™è¯¯éƒ½æœ‰å‹å¥½çš„æç¤ºä¿¡æ¯ï¼Œå¸®åŠ©ç”¨æˆ·è§£å†³é—®é¢˜
- **å¸®åŠ©æ–‡æ¡£**ï¼šæä¾›è¯¦ç»†çš„ä½¿ç”¨å¸®åŠ©æ–‡æ¡£ï¼ŒåŒ…å«å¸¸è§é—®é¢˜è§£ç­”

#### 3.3.3 å…¼å®¹æ€§è¦æ±‚

- **æµè§ˆå™¨æ”¯æŒ**ï¼šChrome 90+ã€Firefox 88+ã€Safari 14+ã€Edge 90+
- **è®¾å¤‡æ”¯æŒ**ï¼šæ¡Œé¢ç«¯ï¼ˆ1920x1080ï¼‰ã€å¹³æ¿ï¼ˆ768x1024ï¼‰ã€ç§»åŠ¨ç«¯ï¼ˆ375x667ï¼‰
- **è§¦æ‘¸æ”¯æŒ**ï¼šç§»åŠ¨ç«¯æ”¯æŒè§¦æ‘¸ç¼©æ”¾ã€æ»‘åŠ¨æ“ä½œ

#### 3.3.4 å®‰å…¨æ€§è¦æ±‚

- **æ•°æ®éšç§**ï¼šæ‰€æœ‰æ•°æ®ä»…åœ¨æœ¬åœ°å¤„ç†ï¼Œä¸ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼ˆé™¤éç”¨æˆ·ä¸»åŠ¨å¼€å¯æ—¥å¿—ï¼‰
- **XSS é˜²æŠ¤**ï¼šæ‰€æœ‰ç”¨æˆ·è¾“å…¥è¿›è¡Œè½¬ä¹‰å¤„ç†
- **CSRF é˜²æŠ¤**ï¼šAPI è¯·æ±‚ä½¿ç”¨ CORS ç­–ç•¥

---

## 4. MVP å®šä¹‰

### 4.1 MVP ç›®æ ‡

**æ ¸å¿ƒç›®æ ‡**ï¼šåœ¨ 4 å‘¨å†…å¼€å‘å‡ºå…·å¤‡æ ¸å¿ƒåŠŸèƒ½çš„äº§å“ï¼ŒéªŒè¯"å°†å‘½ç†ç»“æœå¯è§†åŒ–"çš„æ ¸å¿ƒä»·å€¼ï¼Œè·å–æ—©æœŸç”¨æˆ·åé¦ˆã€‚

### 4.2 MVP åŠŸèƒ½èŒƒå›´

**åŒ…å«çš„åŠŸèƒ½**ï¼š
- âœ… å…«å­—è¾“å…¥è¡¨å•ï¼ˆF1ï¼‰
- âœ… Prompt ç”Ÿæˆï¼ˆF2ï¼Œä»… default ç±»å‹ï¼‰
- âœ… æ–‡ä»¶ä¸Šä¼ ä¸æ•°æ®è§£æï¼ˆF3ï¼Œä»…æ”¯æŒ V1 æ ¼å¼ï¼‰
- âœ… K çº¿å›¾å¯è§†åŒ–ï¼ˆF4ï¼ŒåŸºç¡€åŠŸèƒ½ï¼‰
- âœ… å¤šç»´åº¦åˆ†æï¼ˆF5ï¼ŒåŸºç¡€å±•ç¤ºï¼‰

**ä¸åŒ…å«çš„åŠŸèƒ½**ï¼š
- âŒ å¤šç‰ˆæœ¬æ•°æ®æ ¼å¼å…¼å®¹ï¼ˆV2/V3/V4ï¼‰
- âŒ å¤šç»´åº¦ K çº¿å›¾å¯¹æ¯”
- âŒ å†å²è®°å½•åŠŸèƒ½
- âŒ æ•°æ®å¯¼å‡ºåŠŸèƒ½
- âŒ ä½¿ç”¨æ—¥å¿—åŸ‹ç‚¹
- âŒ ç‰ˆæœ¬æ›´æ–°å…¬å‘Š

### 4.3 MVP æˆåŠŸæ ‡å‡†

- **åŠŸèƒ½å®Œæ•´æ€§**ï¼šæ ¸å¿ƒæµç¨‹ï¼ˆè¾“å…¥ â†’ ç”Ÿæˆ â†’ ä¸Šä¼  â†’ æŸ¥çœ‹ï¼‰100% å¯ç”¨
- **æ•°æ®å‡†ç¡®æ€§**ï¼šK çº¿å›¾æ•°æ®è§£æå‡†ç¡®ç‡ > 95%
- **ç”¨æˆ·ä½“éªŒ**ï¼šç”¨æˆ·å®Œæˆæ ¸å¿ƒæµç¨‹çš„æ—¶é—´ < 5 åˆ†é’Ÿ
- **ç”¨æˆ·åé¦ˆ**ï¼šæ”¶é›†è‡³å°‘ 20 ä½ç”¨æˆ·çš„åé¦ˆï¼Œæ»¡æ„åº¦ > 70%

---

## 5. æ•°æ®æŒ‡æ ‡ä¸ç›‘æ§

### 5.1 å…³é”®æŒ‡æ ‡ï¼ˆMetricsï¼‰

**ç”¨æˆ·è¡Œä¸ºæŒ‡æ ‡**ï¼š
- `generate_prompt`ï¼šç”Ÿæˆ Prompt çš„æ¬¡æ•°
- `upload_file`ï¼šä¸Šä¼ æ–‡ä»¶çš„æ¬¡æ•°
- `view_chart`ï¼šæŸ¥çœ‹ K çº¿å›¾çš„æ¬¡æ•°
- `export_data`ï¼šå¯¼å‡ºæ•°æ®çš„æ¬¡æ•°

**äº§å“å¥åº·æŒ‡æ ‡**ï¼š
- `parse_error_rate`ï¼šæ•°æ®è§£æé”™è¯¯ç‡
- `format_compatibility_rate`ï¼šæ ¼å¼å…¼å®¹ç‡ï¼ˆV1/V2/V3/V4ï¼‰
- `avg_completion_time`ï¼šå¹³å‡å®Œæˆæ—¶é—´

### 5.2 æ•°æ®æ”¶é›†æ–¹æ¡ˆ

**å‰ç«¯åŸ‹ç‚¹**ï¼š
- ä½¿ç”¨ `navigator.sendBeacon` å‘é€åŸ‹ç‚¹æ•°æ®ï¼ˆä¸é˜»å¡é¡µé¢ï¼‰
- åŸ‹ç‚¹æ•°æ®åŒ…å«ï¼šæ“ä½œç±»å‹ã€æ—¶é—´æˆ³ã€ç”¨æˆ· IDï¼ˆå¯é€‰ï¼‰

**åç«¯å­˜å‚¨**ï¼š
- ä½¿ç”¨ Supabase å­˜å‚¨åŸ‹ç‚¹æ•°æ®
- æ•°æ®è¡¨ç»“æ„ï¼š`usage_logs`ï¼ˆuser_id, operation, page_data, created_atï¼‰

**æ•°æ®åˆ†æ**ï¼š
- ä½¿ç”¨ Supabase çš„ SQL æŸ¥è¯¢åŠŸèƒ½åˆ†ææ•°æ®
- å®šæœŸç”Ÿæˆæ•°æ®æŠ¥å‘Šï¼ˆå‘¨æŠ¥/æœˆæŠ¥ï¼‰

---

# ç¬¬äºŒéƒ¨åˆ†ï¼šæŠ€æœ¯è§„æ ¼è¯´æ˜ä¹¦ï¼ˆFSDï¼‰

> **æ–‡æ¡£è´Ÿè´£äºº**ï¼šå¼€å‘å·¥ç¨‹å¸ˆï¼ˆå‰ç«¯/åç«¯ï¼‰  
> **å®¡æ ¸äºº**ï¼šæŠ€æœ¯è´Ÿè´£äººã€æ¶æ„å¸ˆ  
> **æœ€åæ›´æ–°**ï¼š2024å¹´12æœˆ

---

## 1. ç³»ç»Ÿæ¶æ„è®¾è®¡

### 1.1 æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     å‰ç«¯åº”ç”¨å±‚                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚  App.tsx â”‚  â”‚ Componentsâ”‚  â”‚  Hooks   â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     æœåŠ¡å±‚                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚promptGeneratorâ”‚  â”‚ usageLogger  â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     å·¥å…·å±‚                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚  validation  â”‚  â”‚   storage     â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   åç«¯æœåŠ¡ï¼ˆå¯é€‰ï¼‰                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚Vercel Functionâ”‚  â”‚   Supabase   â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 æŠ€æœ¯é€‰å‹

#### å‰ç«¯æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | é€‰å‹ç†ç”± |
|------|------|----------|
| React | 19.0.0 | æœ€æ–°ç¨³å®šç‰ˆæœ¬ï¼Œæ”¯æŒè‡ªåŠ¨æ‰¹å¤„ç†ä¼˜åŒ–ï¼Œç”Ÿæ€æˆç†Ÿ |
| TypeScript | 5.2.2 | ç±»å‹å®‰å…¨ï¼Œæå‡ä»£ç å¯ç»´æŠ¤æ€§ï¼Œå‡å°‘è¿è¡Œæ—¶é”™è¯¯ |
| Vite | 5.2.0 | æé€Ÿå¼€å‘ä½“éªŒï¼Œæ¯«ç§’çº§ HMRï¼Œæ„å»ºé€Ÿåº¦å¿« |
| Tailwind CSS | 3.4.3 | åŸå­åŒ– CSSï¼Œå¼€å‘æ•ˆç‡é«˜ï¼Œç”Ÿäº§ç¯å¢ƒä½“ç§¯å° |
| Recharts | 2.12.7 | React åŸç”Ÿå›¾è¡¨åº“ï¼ŒåŠŸèƒ½ä¸°å¯Œï¼Œå¯å®šåˆ¶æ€§å¼º |
| React Hook Form | 7.68.0 | éå—æ§ç»„ä»¶ï¼Œæ€§èƒ½ä¼˜ç§€ï¼Œå‡å°‘é‡æ¸²æŸ“ |
| Zod | 4.1.13 | TypeScript åŸç”Ÿï¼Œç±»å‹æ¨å¯¼ï¼Œè¿è¡Œæ—¶éªŒè¯ |

#### åç«¯æŠ€æœ¯æ ˆï¼ˆå¯é€‰ï¼‰

| æŠ€æœ¯ | ç‰ˆæœ¬ | é€‰å‹ç†ç”± |
|------|------|----------|
| Vercel Serverless | - | é›¶é…ç½®éƒ¨ç½²ï¼ŒæŒ‰éœ€è®¡è´¹ï¼Œå…¨çƒ CDN |
| Supabase | 2.45.1 | PostgreSQL æ•°æ®åº“ï¼Œè‡ªåŠ¨ç”Ÿæˆ REST API |

### 1.3 é¡¹ç›®ç»“æ„

```
lifekline/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/          # React ç»„ä»¶ï¼ˆ15+ ä¸ªï¼‰
â”‚   â”‚   â”œâ”€â”€ BaziForm.tsx              # å…«å­—è¾“å…¥è¡¨å•
â”‚   â”‚   â”œâ”€â”€ EnhancedKLineChart.tsx    # å¢å¼ºå‹ K çº¿å›¾ï¼ˆæ ¸å¿ƒç»„ä»¶ï¼Œ970+ è¡Œï¼‰
â”‚   â”‚   â”œâ”€â”€ MultiDimensionKLineChart.tsx # å¤šç»´åº¦ K çº¿å›¾
â”‚   â”‚   â”œâ”€â”€ FileUpload.tsx            # æ–‡ä»¶ä¸Šä¼ ï¼ˆæ”¯æŒæ‹–æ‹½ï¼‰
â”‚   â”‚   â”œâ”€â”€ PromptDisplay.tsx         # Prompt å±•ç¤ºä¸å¤åˆ¶
â”‚   â”‚   â”œâ”€â”€ AnalysisResult.tsx        # åˆ†æç»“æœå±•ç¤º
â”‚   â”‚   â”œâ”€â”€ StatisticsPanel.tsx       # ç»Ÿè®¡åˆ†æé¢æ¿
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ hooks/              # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â””â”€â”€ useToast.ts                # Toast é€šçŸ¥ç³»ç»Ÿ
â”‚   â”œâ”€â”€ services/           # æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ promptGenerator.ts        # Prompt ç”ŸæˆæœåŠ¡
â”‚   â”‚   â””â”€â”€ usageLogger.ts             # ä½¿ç”¨æ—¥å¿—æœåŠ¡
â”‚   â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ validation.ts              # æ•°æ®éªŒè¯ï¼ˆZodï¼‰
â”‚   â”‚   â””â”€â”€ storage.ts                 # æœ¬åœ°å­˜å‚¨å·¥å…·
â”‚   â”œâ”€â”€ types.ts            # ç»Ÿä¸€çš„ç±»å‹å®šä¹‰ä¸­å¿ƒ
â”‚   â”œâ”€â”€ App.tsx             # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â””â”€â”€ main.tsx            # åº”ç”¨å…¥å£
â”œâ”€â”€ public/
â”‚   â””â”€â”€ prompts/            # Prompt æ¨¡æ¿æ–‡ä»¶
â”‚       â”œâ”€â”€ default.txt
â”‚       â”œâ”€â”€ detailed.txt
â”‚       â”œâ”€â”€ detailed_v2.txt
â”‚       â”œâ”€â”€ detailed_v3.txt
â”‚       â””â”€â”€ detailed_v4.txt
â”œâ”€â”€ api/                    # Vercel Serverless Functions
â”‚   â””â”€â”€ log.ts              # æ—¥å¿—æ¥å£
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ vite.config.ts
â””â”€â”€ tailwind.config.js
```

---

## 2. æ•°æ®æ¨¡å‹è®¾è®¡

### 2.1 æ ¸å¿ƒæ•°æ®æ¥å£

```typescript
// src/types.ts

// ç”¨æˆ·è¾“å…¥æ•°æ®
export interface BaziInput {
  name?: string;
  gender: Gender;
  birthYear: string;
  yearPillar: string;
  monthPillar: string;
  dayPillar: string;
  hourPillar: string;
  startAge: string;
  firstDaYun: string;
  promptType?: PromptType;
  customPrompt?: string;
}

// K çº¿æ•°æ®ç‚¹
export interface KLinePoint {
  age: number;
  year: number;
  daYun: string;
  ganZhi: string;
  open: number;
  close: number;
  high: number;
  low: number;
  score: number;
  reason: string;
}

// åˆ†ææ•°æ®
export interface AnalysisData {
  bazi: string[];
  summary: string;
  summaryScore: number;
  industry: string;
  industryScore: number;
  wealth: string;
  wealthScore: number;
  marriage: string;
  marriageScore: number;
  health: string;
  healthScore: number;
  family: string;
  familyScore: number;
}

// ç»Ÿä¸€çš„ç»“æœæ¥å£ï¼ˆå…¼å®¹å¤šç‰ˆæœ¬æ ¼å¼ï¼‰
export interface LifeDestinyResult {
  chartData: KLinePoint[];        // ç»Ÿä¸€è½¬æ¢ä¸º KLinePoint æ ¼å¼
  analysis: AnalysisData;          // å…¼å®¹æ—§æ ¼å¼
  v2Data?: LifeDestinyResultV2;    // V2 æ ¼å¼æ‰©å±•
  v3Extras?: {                     // V3 æ ¼å¼æ‰©å±•
    summaryOverview?: any;
    futureFocus?: any;
  };
  v4Extras?: LifeDestinyResultV4;  // V4 æ ¼å¼æ‰©å±•
  userName?: string;
}
```

### 2.2 æ•°æ®åº“è®¾è®¡ï¼ˆSupabaseï¼‰

```sql
-- usage_logs è¡¨ï¼ˆä½¿ç”¨æ—¥å¿—ï¼‰
CREATE TABLE usage_logs (
  id BIGSERIAL PRIMARY KEY,
  user_id TEXT,
  account TEXT,
  operation TEXT NOT NULL,
  page_data JSONB,
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- ç´¢å¼•ä¼˜åŒ–
CREATE INDEX idx_operation ON usage_logs(operation);
CREATE INDEX idx_created_at ON usage_logs(created_at);
CREATE INDEX idx_user_id ON usage_logs(user_id);
```

---

## 3. API è®¾è®¡

### 3.1 æ—¥å¿—æ¥å£ï¼ˆPOST /api/logï¼‰

**è¯·æ±‚æ ¼å¼**ï¼š
```typescript
POST /api/log
Content-Type: application/json

{
  "userId": "user_123",
  "account": "user@example.com",
  "operation": "generatePrompt",
  "pageData": {
    "promptType": "default",
    "hasCustomPrompt": false
  },
  "timestamp": 1703123456789
}
```

**å“åº”æ ¼å¼**ï¼š
```typescript
// æˆåŠŸ
{
  "ok": true
}

// å¤±è´¥
{
  "error": "insert failed",
  "detail": "å…·ä½“é”™è¯¯ä¿¡æ¯"
}
```

**å®ç°ç»†èŠ‚**ï¼š
- ä½¿ç”¨ `@supabase/supabase-js` SDK è¿æ¥æ•°æ®åº“
- æ‰‹åŠ¨è§£æè¯·æ±‚ä½“ï¼ˆå…¼å®¹ä¸åŒç¯å¢ƒï¼‰
- é”™è¯¯å¤„ç†ï¼šæ•è·å¼‚å¸¸å¹¶è¿”å›è¯¦ç»†é”™è¯¯ä¿¡æ¯

---

## 4. å‰ç«¯æ¶æ„è®¾è®¡

### 4.1 ç»„ä»¶åŒ–æ¶æ„

**ç»„ä»¶åˆ†ç±»**ï¼š

1. **é¡µé¢çº§ç»„ä»¶**ï¼š
   - `App.tsx`ï¼šä¸»åº”ç”¨ç»„ä»¶ï¼Œè´Ÿè´£è·¯ç”±å’ŒçŠ¶æ€ç®¡ç†

2. **åŠŸèƒ½ç»„ä»¶**ï¼š
   - `BaziForm.tsx`ï¼šå…«å­—è¾“å…¥è¡¨å•ï¼ˆè¡¨å•éªŒè¯ã€æ•°æ®æ”¶é›†ï¼‰
   - `FileUpload.tsx`ï¼šæ–‡ä»¶ä¸Šä¼ ï¼ˆæ‹–æ‹½ã€ç²˜è´´ã€æ•°æ®è§£æï¼‰
   - `PromptDisplay.tsx`ï¼šPrompt å±•ç¤ºï¼ˆå¤åˆ¶åŠŸèƒ½ï¼‰

3. **å±•ç¤ºç»„ä»¶**ï¼š
   - `EnhancedKLineChart.tsx`ï¼šK çº¿å›¾ï¼ˆæ ¸å¿ƒç»„ä»¶ï¼Œ970+ è¡Œï¼‰
   - `MultiDimensionKLineChart.tsx`ï¼šå¤šç»´åº¦ K çº¿å›¾
   - `StatisticsPanel.tsx`ï¼šç»Ÿè®¡åˆ†æé¢æ¿
   - `AnalysisResult.tsx`ï¼šåˆ†æç»“æœå±•ç¤º

4. **é€šç”¨ç»„ä»¶**ï¼š
   - `Toast.tsx`ï¼šToast é€šçŸ¥ç»„ä»¶
   - `LoadingSpinner.tsx`ï¼šåŠ è½½åŠ¨ç”»ç»„ä»¶

### 4.2 çŠ¶æ€ç®¡ç†ç­–ç•¥

**é‡‡ç”¨ React Hooks è¿›è¡ŒçŠ¶æ€ç®¡ç†ï¼Œæ— å…¨å±€çŠ¶æ€ç®¡ç†åº“**

**åŸå› **ï¼š
- åº”ç”¨è§„æ¨¡é€‚ä¸­ï¼Œç»„ä»¶å±‚çº§ä¸æ·±ï¼ˆæœ€å¤š 3 å±‚ï¼‰
- çŠ¶æ€å…±äº«éœ€æ±‚æœ‰é™ï¼Œä¸»è¦é€šè¿‡ Props ä¼ é€’
- å‡å°‘ä¾èµ–ï¼Œé™ä½å¤æ‚åº¦

**çŠ¶æ€åˆ†å¸ƒ**ï¼š
```typescript
// App.tsx - å…¨å±€çŠ¶æ€
const [result, setResult] = useState<LifeDestinyResult | null>(null);
const [userName, setUserName] = useState<string>('');
const [showPrompt, setShowPrompt] = useState(false);

// ç»„ä»¶å†…éƒ¨çŠ¶æ€
// EnhancedKLineChart.tsx
const [ageRange, setAgeRange] = useState<[number, number]>([1, 100]);
const [zoomLevel, setZoomLevel] = useState(1);

// MultiDimensionKLineChart.tsx
const [activeDimensions, setActiveDimensions] = useState<string[]>(['summary', 'wealth']);
```

### 4.3 æ•°æ®æµè®¾è®¡

```
ç”¨æˆ·è¾“å…¥ (BaziInput)
    â”‚
    â–¼
ç”Ÿæˆ Prompt (promptGenerator)
    â”‚
    â–¼
ç”¨æˆ·ä¸ AI å¯¹è¯ (å¤–éƒ¨)
    â”‚
    â–¼
ä¸Šä¼  JSON (FileUpload)
    â”‚
    â–¼
æ•°æ®è½¬æ¢ (convertGeminiResult)
    â”‚
    â–¼
æ•°æ®éªŒè¯ (Zod validation)
    â”‚
    â–¼
çŠ¶æ€æ›´æ–° (setResult)
    â”‚
    â–¼
UI æ¸²æŸ“ (Components)
```

---

## 5. æ ¸å¿ƒåŠŸèƒ½å®ç°ç»†èŠ‚

### 5.1 å¤šç‰ˆæœ¬æ•°æ®æ ¼å¼å…¼å®¹

**é—®é¢˜èƒŒæ™¯**ï¼š
ä¸åŒ AI æ¨¡å‹è¿”å›çš„ JSON æ ¼å¼ä¸ä¸€è‡´ï¼š
- V1 æ ¼å¼ï¼šåŸºç¡€æ ¼å¼ï¼ŒåŒ…å« chartPoints å’Œ analysis
- V2 æ ¼å¼ï¼šåŒ…å« timelineã€baseChartã€globalDimensions
- V3 æ ¼å¼ï¼šåŒ…å« profileã€summary.dimensions
- V4 æ ¼å¼ï¼šåŒ…å« bazi_logicã€history_checkpointsã€chartPointsï¼ˆk_line å­—æ®µï¼‰

**è§£å†³æ–¹æ¡ˆ**ï¼š

1. **ç»Ÿä¸€æ•°æ®æ¥å£è®¾è®¡**ï¼š
   - å®šä¹‰ `LifeDestinyResult` æ¥å£ï¼ŒåŒ…å«åŸºç¡€å­—æ®µå’Œå¯é€‰çš„æ‰©å±•å­—æ®µ
   - ä½¿ç”¨ TypeScript ç±»å‹ç³»ç»Ÿä¿è¯ç±»å‹å®‰å…¨

2. **æ•°æ®è½¬æ¢å±‚**ï¼š
   - å®ç° `convertGeminiResult` å‡½æ•°ï¼Œè‡ªåŠ¨è¯†åˆ«æ ¼å¼ç‰ˆæœ¬å¹¶è½¬æ¢
   - è½¬æ¢é€»è¾‘ï¼šV4 â†’ V3 â†’ V2 â†’ V1ï¼ˆæŒ‰ä¼˜å…ˆçº§æ£€æŸ¥ï¼‰

3. **æ•°æ®éªŒè¯**ï¼š
   - ä½¿ç”¨ Zod è¿›è¡Œè¿è¡Œæ—¶éªŒè¯
   - éªŒè¯å¤±è´¥æ—¶è¿”å›è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯

**ä»£ç ç¤ºä¾‹**ï¼š
```typescript
// src/components/FileUpload.tsx
const convertGeminiResult = (raw: any): LifeDestinyResult => {
  // æ£€æŸ¥æ˜¯å¦æ˜¯ V4 æ ¼å¼
  if (raw.bazi_logic && Array.isArray(raw.chartPoints) && raw.chartPoints.length > 0) {
    const firstPoint = raw.chartPoints[0];
    if (firstPoint.k_line || (firstPoint.open === undefined && firstPoint.k_line)) {
      // V4 æ ¼å¼è½¬æ¢
      const chartData = convertV4ChartPointsToKLinePoints(raw.chartPoints);
      const analysis = convertV4ScoresToAnalysis(raw.scores, raw.bazi_logic);
      return {
        chartData,
        analysis,
        v4Extras: {
          bazi_logic: raw.bazi_logic,
          history_checkpoints: Array.isArray(raw.history_checkpoints) ? raw.history_checkpoints : [],
          scores: raw.scores || {},
          chartPoints: raw.chartPoints,
        },
      };
    }
  }
  // ... å…¶ä»–æ ¼å¼æ£€æŸ¥
};
```

### 5.2 K çº¿å›¾å®ç°

**æŠ€æœ¯é€‰å‹**ï¼šRechartsï¼ˆReact åŸç”Ÿå›¾è¡¨åº“ï¼‰

**æ ¸å¿ƒå®ç°**ï¼š

1. **è‡ªå®šä¹‰ K çº¿å½¢çŠ¶ç»„ä»¶**ï¼š
   - ä½¿ç”¨ `Bar` ç»„ä»¶çš„ `shape` å±æ€§è‡ªå®šä¹‰ K çº¿å½¢çŠ¶
   - è®¡ç®—å®ä½“å’Œå½±çº¿çš„ä½ç½®ï¼ˆopen, close, high, lowï¼‰

2. **äº¤äº’åŠŸèƒ½**ï¼š
   - **ç¼©æ”¾**ï¼šé¼ æ ‡æ»šè½®ç¼©æ”¾ï¼Œä»¥é¼ æ ‡ä½ç½®ä¸ºä¸­å¿ƒ
   - **è§¦æ‘¸ç¼©æ”¾**ï¼šç§»åŠ¨ç«¯åŒæŒ‡ç¼©æ”¾
   - **Tooltip**ï¼šé¼ æ ‡æ‚¬åœæ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯

3. **æ€§èƒ½ä¼˜åŒ–**ï¼š
   - ä½¿ç”¨ `useMemo` ç¼“å­˜è¿‡æ»¤åçš„æ•°æ®
   - æ ¹æ®ç¼©æ”¾çº§åˆ«é‡‡æ ·æ•°æ®ï¼ˆå¯é€‰ï¼‰

**ä»£ç ç¤ºä¾‹**ï¼š
```typescript
// EnhancedKLineChart.tsx
const CandleShape = (props: any) => {
  const { x, y, width, height, payload, yAxis } = props;
  const { open, close, high, low } = payload;
  const isUp = close >= open;
  
  // è®¡ç®—å®ä½“å’Œå½±çº¿çš„ä½ç½®
  const bodyTop = Math.min(openY, closeY);
  const bodyBottom = Math.max(openY, closeY);
  const bodyHeight = Math.max(3, bodyBottom - bodyTop);
  
  return (
    <g>
      {/* ä¸Šå½±çº¿ */}
      {hasUpperShadow && (
        <line x1={centerX} y1={highY} x2={centerX} y2={bodyTop} />
      )}
      {/* å®ä½“ */}
      <rect x={bodyX} y={bodyTop} width={bodyWidth} height={bodyHeight} />
      {/* ä¸‹å½±çº¿ */}
      {hasLowerShadow && (
        <line x1={centerX} y1={bodyBottom} x2={centerX} y2={lowY} />
      )}
    </g>
  );
};
```

### 5.3 å¤šç»´åº¦ K çº¿å›¾æ‰“åˆ†é€»è¾‘

**ç®—æ³•è®¾è®¡**ï¼š

**æ ¸å¿ƒæ€è·¯**ï¼šåŸºäºæ•´ä½“ K çº¿å¹´åº¦åˆ†æ•° + å„ç»´åº¦æ€»è¯„ï¼Œé€šè¿‡æ··åˆç®—æ³•ç”Ÿæˆå„ç»´åº¦å¹´åº¦æ›²çº¿ã€‚

**ç®—æ³•æ­¥éª¤**ï¼š

1. **æ··åˆç®—æ³•**ï¼š
   - 70% æ•´ä½“èµ°åŠ¿ + 30% ç»´åº¦ç›®æ ‡åˆ†
   - ä¿è¯å„ç»´åº¦æ›²çº¿ä¸æ•´ä½“ K çº¿è¶‹åŠ¿ä¸€è‡´ï¼ŒåŒæ—¶ä½“ç°ç»´åº¦ç‰¹æ€§

2. **ç¨³å®šæ‰°åŠ¨**ï¼š
   - ä½¿ç”¨å¹´ä»½å’Œç»´åº¦ key ä½œä¸ºç§å­ï¼Œç”Ÿæˆç¡®å®šæ€§æ‰°åŠ¨
   - æ‰°åŠ¨èŒƒå›´ï¼š-4 ~ +4 åˆ†ï¼Œä¿è¯ä¸åŒç»´åº¦çº¿æ¡ä¸å®Œå…¨é‡åˆ

3. **è¾¹ç•Œå¤„ç†**ï¼š
   - æœ€ç»ˆåˆ†æ•°é™åˆ¶åœ¨ 0-100 ä¹‹é—´

**ä»£ç ç¤ºä¾‹**ï¼š
```typescript
// MultiDimensionKLineChart.tsx
const chartData = useMemo(() => {
  return data.map((point) => {
    const overallYearScore = point.score ?? avgScore;
    const result: any = { age: point.age, year: point.year };

    dimensions.forEach((dim) => {
      const dimTarget = dim.overallScore || 50;
      
      // æ··åˆç®—æ³•ï¼š70% æ•´ä½“èµ°åŠ¿ + 30% ç»´åº¦ç›®æ ‡åˆ†
      const alpha = 0.7;
      const blended = overallYearScore * alpha + dimTarget * (1 - alpha);
      
      // ç¨³å®šçš„è½»å¾®æ‰°åŠ¨
      const seed = (point.year * 13 + dim.key.length * 17) % 11;
      const variation = (seed - 5) * 0.8; // -4 ~ +4 åˆ†
      
      const raw = blended + variation;
      const clamped = Math.max(0, Math.min(100, raw));
      result[dim.key] = Number(clamped.toFixed(1));
    });

    return result;
  });
}, [data, dimensions]);
```

---

## 6. æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆ

### 6.1 React æ€§èƒ½ä¼˜åŒ–

**1. useMemo ä¼˜åŒ–è®¡ç®—**ï¼š
```typescript
// é¿å…é‡å¤è®¡ç®—
const resultOverview = useMemo(() => {
  if (!result || !result.chartData || result.chartData.length === 0) return null;
  const scores = result.chartData.map(d => d.score);
  const avg = scores.reduce((a, b) => a + b, 0) / scores.length;
  // ... å¤æ‚è®¡ç®—
  return { avgScore, maxYear, minYear, summaryText };
}, [result]); // åªæœ‰ result å˜åŒ–æ—¶æ‰é‡æ–°è®¡ç®—
```

**2. useCallback ä¼˜åŒ–å‡½æ•°**ï¼š
```typescript
// é¿å…å­ç»„ä»¶ä¸å¿…è¦çš„é‡æ¸²æŸ“
const handleGeneratePrompt = useCallback(async (data: BaziInput) => {
  // ... å¤„ç†é€»è¾‘
}, []); // ä¾èµ–é¡¹ä¸ºç©ºï¼Œå‡½æ•°å¼•ç”¨ç¨³å®š
```

**3. æ•°æ®è¿‡æ»¤ä¼˜åŒ–**ï¼š
```typescript
// å›¾è¡¨æ•°æ®è¿‡æ»¤
const filteredData = useMemo(() => {
  return data.filter(d => d.age >= ageRange[0] && d.age <= ageRange[1]);
}, [data, ageRange]);
```

### 6.2 æ„å»ºä¼˜åŒ–

**1. ä»£ç åˆ†å‰²ï¼ˆå»ºè®®ï¼‰**ï¼š
```typescript
// vite.config.ts
build: {
  rollupOptions: {
    output: {
      manualChunks: {
        'react-vendor': ['react', 'react-dom'],
        'chart-vendor': ['recharts'],
        'form-vendor': ['react-hook-form', 'zod'],
      },
    },
  },
}
```

**2. èµ„æºä¼˜åŒ–**ï¼š
- å›¾ç‰‡ä½¿ç”¨ WebP æ ¼å¼
- å­—ä½“ä½¿ç”¨ `font-display: swap`
- é™æ€èµ„æºä½¿ç”¨ CDN åŠ é€Ÿ

### 6.3 è¿è¡Œæ—¶ä¼˜åŒ–

**1. Prompt ç¼“å­˜**ï¼š
```typescript
// src/services/promptGenerator.ts
const promptCache: Record<string, string> = {};

const loadPromptFromFile = async (filename: string): Promise<string> => {
  if (promptCache[filename]) {
    return promptCache[filename];
  }
  // ... åŠ è½½é€»è¾‘
};
```

**2. æ•°æ®é‡‡æ ·ï¼ˆå¯é€‰ï¼‰**ï¼š
```typescript
// æ ¹æ®ç¼©æ”¾çº§åˆ«é‡‡æ ·æ•°æ®
const getSampledData = (data: KLinePoint[], zoomLevel: number) => {
  if (zoomLevel > 0.5) return data; // é«˜ç¼©æ”¾æ˜¾ç¤ºå…¨éƒ¨
  const step = Math.ceil(1 / zoomLevel);
  return data.filter((_, index) => index % step === 0);
};
```

---

## 7. å®‰å…¨è€ƒè™‘

### 7.1 å‰ç«¯å®‰å…¨

**1. XSS é˜²æŠ¤**ï¼š
- æ‰€æœ‰ç”¨æˆ·è¾“å…¥ä½¿ç”¨ React çš„è‡ªåŠ¨è½¬ä¹‰
- ä½¿ç”¨ `dangerouslySetInnerHTML` æ—¶è¿›è¡Œå†…å®¹æ¸…ç†

**2. CSRF é˜²æŠ¤**ï¼š
- API è¯·æ±‚ä½¿ç”¨ CORS ç­–ç•¥
- æ•æ„Ÿæ“ä½œä½¿ç”¨ POST è¯·æ±‚

**3. æ•°æ®éšç§**ï¼š
- æ‰€æœ‰æ•°æ®ä»…åœ¨æœ¬åœ°å¤„ç†ï¼Œä¸ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼ˆé™¤éç”¨æˆ·ä¸»åŠ¨å¼€å¯æ—¥å¿—ï¼‰
- ä½¿ç”¨ `localStorage` å­˜å‚¨å†å²è®°å½•ï¼Œä¸åŒ…å«æ•æ„Ÿä¿¡æ¯

### 7.2 åç«¯å®‰å…¨ï¼ˆå¯é€‰ï¼‰

**1. è¾“å…¥éªŒè¯**ï¼š
- ä½¿ç”¨ Zod éªŒè¯æ‰€æœ‰è¾“å…¥æ•°æ®
- é™åˆ¶è¯·æ±‚ä½“å¤§å°ï¼ˆ< 10MBï¼‰

**2. é”™è¯¯å¤„ç†**ï¼š
- ä¸æš´éœ²æ•æ„Ÿé”™è¯¯ä¿¡æ¯
- è®°å½•é”™è¯¯æ—¥å¿—ç”¨äºæ’æŸ¥é—®é¢˜

---

## 8. éƒ¨ç½²æ–¹æ¡ˆ

### 8.1 å‰ç«¯éƒ¨ç½²

**éƒ¨ç½²å¹³å°**ï¼šGitHub Pages

**éƒ¨ç½²æµç¨‹**ï¼š
1. æ„å»ºç”Ÿäº§ç‰ˆæœ¬ï¼š`npm run build`
2. å°† `dist` ç›®å½•å†…å®¹æ¨é€åˆ° `gh-pages` åˆ†æ”¯
3. é…ç½® GitHub Pages ä½¿ç”¨ `gh-pages` åˆ†æ”¯

**ç¯å¢ƒå˜é‡**ï¼š
- `VITE_LOG_ENDPOINT`ï¼šæ—¥å¿—æ¥å£åœ°å€ï¼ˆå¯é€‰ï¼‰

### 8.2 åç«¯éƒ¨ç½²ï¼ˆå¯é€‰ï¼‰

**éƒ¨ç½²å¹³å°**ï¼šVercel

**éƒ¨ç½²æµç¨‹**ï¼š
1. è¿æ¥ GitHub ä»“åº“
2. é…ç½®ç¯å¢ƒå˜é‡ï¼š
   - `SUPABASE_URL`
   - `SUPABASE_SERVICE_ROLE_KEY`
3. è‡ªåŠ¨éƒ¨ç½²ï¼ˆæ¯æ¬¡ push åˆ° main åˆ†æ”¯ï¼‰

---

# ç¬¬ä¸‰éƒ¨åˆ†ï¼šé¡¹ç›®äº¤ä»˜æ–‡æ¡£

> **æ–‡æ¡£è´Ÿè´£äºº**ï¼šäº§å“ç»ç† + å¼€å‘å·¥ç¨‹å¸ˆ  
> **æœ€åæ›´æ–°**ï¼š2024å¹´12æœˆ

---

## 1. å¼€å‘è®¡åˆ’

### 1.1 é‡Œç¨‹ç¢‘è§„åˆ’

| é‡Œç¨‹ç¢‘ | æ—¶é—´ | äº¤ä»˜ç‰© | è´Ÿè´£äºº |
|--------|------|--------|--------|
| M1ï¼šéœ€æ±‚ç¡®è®¤ | Week 1 | PRD + FSD æ–‡æ¡£ | äº§å“ç»ç† + å¼€å‘å·¥ç¨‹å¸ˆ |
| M2ï¼šMVP å¼€å‘å®Œæˆ | Week 4 | MVP ç‰ˆæœ¬ä»£ç  | å¼€å‘å·¥ç¨‹å¸ˆ |
| M3ï¼šæµ‹è¯•å®Œæˆ | Week 5 | æµ‹è¯•æŠ¥å‘Š | QA + å¼€å‘å·¥ç¨‹å¸ˆ |
| M4ï¼šæ­£å¼ä¸Šçº¿ | Week 6 | ç”Ÿäº§ç¯å¢ƒéƒ¨ç½² | å¼€å‘å·¥ç¨‹å¸ˆ + è¿ç»´ |

### 1.2 è¯¦ç»†å¼€å‘è®¡åˆ’

**Week 1ï¼šé¡¹ç›®æ­å»º**
- Day 1-2ï¼šé¡¹ç›®åˆå§‹åŒ–ï¼ŒæŠ€æœ¯æ ˆæ­å»º
- Day 3-4ï¼šå…«å­—è¾“å…¥è¡¨å•å¼€å‘
- Day 5ï¼šPrompt ç”ŸæˆåŠŸèƒ½å¼€å‘

**Week 2ï¼šæ ¸å¿ƒåŠŸèƒ½å¼€å‘**
- Day 1-2ï¼šæ–‡ä»¶ä¸Šä¼ ä¸æ•°æ®è§£æ
- Day 3-4ï¼šK çº¿å›¾åŸºç¡€å®ç°
- Day 5ï¼šæ•°æ®éªŒè¯ä¸é”™è¯¯å¤„ç†

**Week 3ï¼šåŠŸèƒ½å®Œå–„**
- Day 1-2ï¼šå¤šç»´åº¦åˆ†æå±•ç¤º
- Day 3-4ï¼šäº¤äº’åŠŸèƒ½ä¼˜åŒ–ï¼ˆç¼©æ”¾ã€ç­›é€‰ç­‰ï¼‰
- Day 5ï¼šUI ä¼˜åŒ–ä¸å“åº”å¼è®¾è®¡

**Week 4ï¼šæµ‹è¯•ä¸ä¼˜åŒ–**
- Day 1-2ï¼šåŠŸèƒ½æµ‹è¯•ä¸ Bug ä¿®å¤
- Day 3ï¼šæ€§èƒ½ä¼˜åŒ–
- Day 4-5ï¼šæ–‡æ¡£ç¼–å†™ä¸éƒ¨ç½²å‡†å¤‡

---

## 2. æµ‹è¯•è®¡åˆ’

### 2.1 æµ‹è¯•èŒƒå›´

**åŠŸèƒ½æµ‹è¯•**ï¼š
- âœ… å…«å­—è¾“å…¥è¡¨å•ï¼šæ‰€æœ‰å­—æ®µéªŒè¯ã€å¤§è¿æ–¹å‘è®¡ç®—
- âœ… Prompt ç”Ÿæˆï¼šæ‰€æœ‰ Prompt ç±»å‹ã€å¤åˆ¶åŠŸèƒ½
- âœ… æ–‡ä»¶ä¸Šä¼ ï¼šæ‹–æ‹½ä¸Šä¼ ã€ç²˜è´´æ–‡æœ¬ã€æ ¼å¼è¯†åˆ«
- âœ… K çº¿å›¾ï¼šæ•°æ®å±•ç¤ºã€äº¤äº’åŠŸèƒ½ã€Tooltip
- âœ… å¤šç»´åº¦åˆ†æï¼šè¯„åˆ†å±•ç¤ºã€è¶‹åŠ¿æ›²çº¿ã€ç»Ÿè®¡åˆ†æ

**å…¼å®¹æ€§æµ‹è¯•**ï¼š
- âœ… æµè§ˆå™¨ï¼šChromeã€Firefoxã€Safariã€Edge
- âœ… è®¾å¤‡ï¼šæ¡Œé¢ç«¯ã€å¹³æ¿ã€ç§»åŠ¨ç«¯
- âœ… æ“ä½œç³»ç»Ÿï¼šWindowsã€macOSã€iOSã€Android

**æ€§èƒ½æµ‹è¯•**ï¼š
- âœ… é¦–å±åŠ è½½æ—¶é—´ < 2s
- âœ… å›¾è¡¨æ¸²æŸ“æ—¶é—´ < 500ms
- âœ… äº¤äº’å“åº”æ—¶é—´ < 100ms

### 2.2 æµ‹è¯•ç”¨ä¾‹ç¤ºä¾‹

**TC-001ï¼šå…«å­—è¾“å…¥è¡¨å•éªŒè¯**
- **å‰ç½®æ¡ä»¶**ï¼šç”¨æˆ·æ‰“å¼€åº”ç”¨
- **æµ‹è¯•æ­¥éª¤**ï¼š
  1. è¾“å…¥æ— æ•ˆçš„å¹²æ”¯æ ¼å¼ï¼ˆå¦‚"ç”²ä¹™"ï¼‰
  2. è¾“å…¥è¶…å‡ºèŒƒå›´çš„å¹´ä»½ï¼ˆå¦‚"1899"ï¼‰
  3. æäº¤è¡¨å•
- **é¢„æœŸç»“æœ**ï¼šæ˜¾ç¤ºé”™è¯¯æç¤ºï¼Œé˜»æ­¢æäº¤

**TC-002ï¼šæ–‡ä»¶ä¸Šä¼ ä¸è§£æ**
- **å‰ç½®æ¡ä»¶**ï¼šç”¨æˆ·å·²ç”Ÿæˆ Prompt å¹¶ä¸ AI å¯¹è¯
- **æµ‹è¯•æ­¥éª¤**ï¼š
  1. æ‹–æ‹½ JSON æ–‡ä»¶åˆ°ä¸Šä¼ åŒºåŸŸ
  2. ç­‰å¾…è§£æå®Œæˆ
- **é¢„æœŸç»“æœ**ï¼šæˆåŠŸè§£æå¹¶æ˜¾ç¤º K çº¿å›¾

### 2.3 Bug ç®¡ç†

**Bug ä¼˜å…ˆçº§**ï¼š
- P0ï¼šé˜»å¡æ ¸å¿ƒåŠŸèƒ½ï¼Œå¿…é¡»ç«‹å³ä¿®å¤
- P1ï¼šå½±å“ç”¨æˆ·ä½“éªŒï¼Œå°½å¿«ä¿®å¤
- P2ï¼šè½»å¾®é—®é¢˜ï¼Œå¯ä»¥å»¶åä¿®å¤

**Bug è·Ÿè¸ª**ï¼šä½¿ç”¨ GitHub Issues è·Ÿè¸ª Bug

---

## 3. ä¸Šçº¿æ£€æŸ¥æ¸…å•

### 3.1 åŠŸèƒ½æ£€æŸ¥

- [ ] æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½æ­£å¸¸å·¥ä½œ
- [ ] æ•°æ®è§£æå‡†ç¡®ç‡ > 95%
- [ ] é”™è¯¯å¤„ç†å®Œå–„ï¼Œæœ‰å‹å¥½çš„é”™è¯¯æç¤º
- [ ] å¸®åŠ©æ–‡æ¡£å®Œæ•´ï¼ŒåŒ…å«å¸¸è§é—®é¢˜è§£ç­”

### 3.2 æ€§èƒ½æ£€æŸ¥

- [ ] é¦–å±åŠ è½½æ—¶é—´ < 2s
- [ ] å›¾è¡¨æ¸²æŸ“æµç•…ï¼Œæ— å¡é¡¿
- [ ] ç§»åŠ¨ç«¯æ€§èƒ½è‰¯å¥½

### 3.3 å…¼å®¹æ€§æ£€æŸ¥

- [ ] ä¸»æµæµè§ˆå™¨æµ‹è¯•é€šè¿‡
- [ ] ç§»åŠ¨ç«¯æµ‹è¯•é€šè¿‡
- [ ] å“åº”å¼è®¾è®¡æ­£å¸¸

### 3.4 å®‰å…¨æ£€æŸ¥

- [ ] XSS é˜²æŠ¤åˆ°ä½
- [ ] æ•°æ®éšç§ä¿æŠ¤ï¼ˆæœ¬åœ°å¤„ç†ï¼‰
- [ ] API æ¥å£å®‰å…¨ï¼ˆCORS é…ç½®ï¼‰

---

## 4. ç»´æŠ¤è®¡åˆ’

### 4.1 æ—¥å¸¸ç»´æŠ¤

**ç›‘æ§æŒ‡æ ‡**ï¼š
- é”™è¯¯ç‡ï¼šæ•°æ®è§£æé”™è¯¯ç‡ < 5%
- æ€§èƒ½æŒ‡æ ‡ï¼šé¦–å±åŠ è½½æ—¶é—´ã€äº¤äº’å“åº”æ—¶é—´
- ç”¨æˆ·åé¦ˆï¼šæ”¶é›†ç”¨æˆ·åé¦ˆï¼ŒåŠæ—¶å“åº”

**ç»´æŠ¤é¢‘ç‡**ï¼š
- æ¯å‘¨ï¼šæ£€æŸ¥é”™è¯¯æ—¥å¿—ï¼Œä¿®å¤ P0/P1 Bug
- æ¯æœˆï¼šæ€§èƒ½ä¼˜åŒ–ï¼Œä¾èµ–æ›´æ–°
- æ¯å­£åº¦ï¼šåŠŸèƒ½è¿­ä»£ï¼Œç”¨æˆ·ä½“éªŒä¼˜åŒ–

### 4.2 ç‰ˆæœ¬è¿­ä»£è®¡åˆ’

**V2.1ï¼ˆè®¡åˆ’ä¸­ï¼‰**ï¼š
- æ”¯æŒæ›´å¤š AI å¹³å°
- æ•°æ®å¯¹æ¯”åŠŸèƒ½
- åˆ†äº«åŠŸèƒ½

**V2.2ï¼ˆè®¡åˆ’ä¸­ï¼‰**ï¼š
- ç”¨æˆ·æ³¨å†Œç™»å½•
- äº‘ç«¯æ•°æ®åŒæ­¥
- ä»˜è´¹åŠŸèƒ½æ¢ç´¢

---

## 5. æ–‡æ¡£ç»´æŠ¤

### 5.1 æ–‡æ¡£æ›´æ–°é¢‘ç‡

- **PRD**ï¼šæ¯æ¬¡åŠŸèƒ½è¿­ä»£æ—¶æ›´æ–°
- **FSD**ï¼šæ¯æ¬¡æŠ€æœ¯æ¶æ„å˜æ›´æ—¶æ›´æ–°
- **API æ–‡æ¡£**ï¼šæ¯æ¬¡æ¥å£å˜æ›´æ—¶æ›´æ–°

### 5.2 æ–‡æ¡£å®¡æ ¸æµç¨‹

1. æ–‡æ¡£æ’°å†™äººæäº¤æ–‡æ¡£
2. ç›¸å…³è´£ä»»äººå®¡æ ¸ï¼ˆäº§å“ç»ç†å®¡æ ¸ PRDï¼Œå¼€å‘å·¥ç¨‹å¸ˆå®¡æ ¸ FSDï¼‰
3. æŠ€æœ¯è´Ÿè´£äººæœ€ç»ˆå®¡æ ¸
4. æ–‡æ¡£å½’æ¡£

---

## é™„å½•

### A. æœ¯è¯­è¡¨

- **å…«å­—**ï¼šä¸­å›½ä¼ ç»Ÿå‘½ç†å­¦ä¸­çš„å››æŸ±å…«å­—ï¼ˆå¹´ã€æœˆã€æ—¥ã€æ—¶ï¼‰
- **å¤§è¿**ï¼šå‘½ç†å­¦ä¸­çš„åå¹´è¿åŠ¿å‘¨æœŸ
- **æµå¹´**ï¼šå‘½ç†å­¦ä¸­çš„ä¸€å¹´è¿åŠ¿
- **K çº¿å›¾**ï¼šé‡‘èå›¾è¡¨ï¼Œç”¨äºå±•ç¤ºä»·æ ¼èµ°åŠ¿

### B. å‚è€ƒèµ„æº

- [React å®˜æ–¹æ–‡æ¡£](https://react.dev/)
- [TypeScript å®˜æ–¹æ–‡æ¡£](https://www.typescriptlang.org/)
- [Recharts å®˜æ–¹æ–‡æ¡£](https://recharts.org/)
- [Vercel éƒ¨ç½²æ–‡æ¡£](https://vercel.com/docs)

### C. è”ç³»æ–¹å¼

- **äº§å“ç»ç†**ï¼š[äº§å“ç»ç†é‚®ç®±]
- **å¼€å‘å·¥ç¨‹å¸ˆ**ï¼š[å¼€å‘å·¥ç¨‹å¸ˆé‚®ç®±]
- **é¡¹ç›®ä»“åº“**ï¼šhttps://github.com/LeslieWylie/LeslieWylie.github.io

---

**æ–‡æ¡£ç»“æŸ**

